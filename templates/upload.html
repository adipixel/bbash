<html>
   <body>

    	<div id="fileupload">
    		<form id="upload-file" method="post" enctype="multipart/form-data">
			    <fieldset>
			        <label for="file">Select a file</label>
			        <input name="file" type="file">
			    </fieldset>
			    <fieldset>
			        <button id="upload-file-btn" type="button">Upload</button>
			    </fieldset>
			</form>
    	</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <script>
      	$(function() {
    		$('#upload-file-btn').click(function() {
		        var form_data = new FormData($('#upload-file')[0]);
		        $.ajax({
		            type: 'POST',
		            url: '/uploadajax',
		            data: form_data,
		            contentType: false,
		            cache: false,
		            processData: false,
		            async: false,
		            success: function(data) {
		                console.log('Success!');
		                $('#fileupload').html(data);
		            },
		        });
		    });
		});
      </script>
   </body>
</html>